# Step2 Report

## 2018011423 任一

### 实验内容

在本次实验中，我完整阅读并学习了实验参考书中的内容，并且加入了有关一元运算符的内容，使我的编译器成功通过了STEP2。主要改动是在`.g4`文件中加入一元表达式的语法，在`IRGenerator.py`中加入有关一元运算符的visitor部分。



### 思考题

1. Q:  请设计一个表达式，只使用`-~!`这三个单目运算符和 $[0, 2^{31} - 1]$ 范围内的非负整数，使得运算过程中发生越界。

   A: 表达式`-(~2147483647)=-2147483648`是一个越界的例子. 对于任意在 $[0, 2^{31} - 1]$ 范围内的`x`，`!(~x)=1`成立。设`f(x)=-(~x)`. 则有`f(!(~x))=2`，经过递推，则有$f^{2147483646}(!(~x))=2147483647$，$f^{2147483647}(!(~x))=-2147483648$. 
   
   因此对于任何`x`在 $[0, 2^{31} - 1]$ 范围内，$f^{2147483647}(!(~x))$都可以产生越界，其中`f(x)=-(~x)`.



### 复用代码情况

在本次实验中，我主要按照实验指导书进行了操作，对样例代码没有直接的参考。

